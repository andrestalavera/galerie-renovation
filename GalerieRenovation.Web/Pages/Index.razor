@page "/"
@inject HttpClient Http
<PageTitle>Index</PageTitle>

<!-- Caroussel -->
<div id="@carousel.UniqueId" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <!-- foreach carousel.Items  voir pourquoi ça ne fonctionne pas -->
        @for (var i = 0; i < carousel.Items.Count(); i++)
        { <!-- mettre le premier data slide active-->
            if(i == 0)
            {<button type="button" data-bs-target="#@carousel.UniqueId" data-bs-slide-to="@i" class="active" aria-current="true" aria-label="Slide 1"></button>
            }
            else
            {
              <button type="button" data-bs-target="#@carousel.UniqueId" data-bs-slide-to="@i" aria-label="test"></button>  
            }
        }
        
        
    </div>
    <div class="carousel-inner" style="max-height: 850px;min-height: 276px">
        <!--max-height: 850px;min-height: 276px-->
     
        @foreach (var item in carousel.Items)
        {<!-- ajout booléen dans la class pour metrre une slide en active ici la première pour test-->
            if(item.Active){
            <div class="carousel-item active">
                <img src="Images/@item.ImageUrl" class="d-block  w-100" alt="">
                </div>
            }
            else
            {
             <div class="carousel-item">
                <img src="Images/@item.ImageUrl" class="d-block  w-100" alt="">
                </div>   
            }

        }
        
       
            
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#@carousel.UniqueId" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#@carousel.UniqueId" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>
 <section class="h-100">
            <center class="mt-3">
                <h1><strong>Réinventez votre intérieur</strong></h1>
            </center>
        </section>
        <section class="mt-5">
            <div class="container">
                <div class="row">
                    <div class="col-5">
                        <h2>Galerie Rénovation Vous accompagne dans vos projets</h2>
                        <p>Ici un cours texte de présentation qui parle de galerie rénovation, son identité, son but , ce qui fait la différence avec les autres entreprises</p>
                    </div>
                    <div class="col-7">
                        <img class="w-100" src="Images/exx.jpeg">
                    </div>
                </div>
            </div>


        </section>


        <section class="mt-5" id="forfait" style="background-image: url('images/img5.jpeg') ">
            <!--dans style padding-top: 100px; margin-top: 100px; -->
            <div class="container">
                <h1 class="display-3 text-center">Nos forfaits</h1>
                <div class="row row-cols-1 row-cols-md-4 g-4 h-100 m-3">
                    @foreach (var item in service)
                     {
                         <div class="card text-white shadow-lg p-3 mb-5 rounded"style="background-color: #180906">
                        <img src="images/ex1.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">@item.Title</h5>
                            <p class="card-text">
                                <ul class="list-unstyled">
                                    <li class="mt-4">
                                        @item.Descriptions
                                    </li>
                                    <li class="mt-3">
                                        
                                    </li>
                                    <li class="mt-3">
                                      
                                    </li>
                                </ul>
                            </p>

                        </div>
                        <a href="#pack1" class="btn align-center  btn-light m-3">En savoir plus</a>
                    </div>
                     }
            <div class="card text-white shadow-lg p-3 mb-5 rounded"style="background-color: #180906">
                        <img src="images/ex1.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Forfait 1: Architecte d’intérieur</h5>
                            <p class="card-text">
                                <ul class="list-unstyled">
                                    <li class="mt-4">
                                        RDV Conseils / Diagnostic d'intérieur
                                    </li>
                                    <li class="mt-3">
                                        Etude de votre projet d'architecture
                                    </li>
                                    <li class="mt-3">
                                        Suivi et coordination des travaux
                                    </li>
                                </ul>
                            </p>

                        </div>
                        <a href="#pack1" class="btn align-center  btn-light m-3">En savoir plus</a>
                    </div>
                    <div class="card text-white shadow-lg p-3 mb-5 rounded"style="background-color: #180906">
                        <img src="images/ex3.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h4 class="card-title">
                                Forfait 2: Décorateur d’intérieur
                            </h4>
                            <p class="card-text">
                                <ul>
                                    <li class="mt-4">
                                        RDV Conseils / Diagnostic déco
                                    </li>
                                    <li class="mt-3">
                                        Etude de votre projet de décoration d'intérieur
                                    </li>
                                    <li class="mt-3">
                                        Suivi des artisans, des commandes, shopping et aménagement final
                                    </li>
                                </ul>
                            </p>

                        </div>
                        <a href="#pack2" class="btn align-center btn-light m-3">En savoir plus</a>
                    </div>
                    <div class="card text-white shadow-lg p-3 mb-5 rounded"style="background-color: #180906">
                        <img src="images/ex1.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h4 class="card-title">Forfait 3: Relooking d’intérieur/coaching déco</h4>
                            <p class="card-text">
                                <ul>
                                    <li class="mt-4">
                                        RDV Conseils c/ Relooking d'intérieur
                                    </li>
                                    <li class="mt-3">
                                        Coach Shopping
                                    </li>
                                    <li class="mt-3">
                                        Mise en scène finale
                                    </li>
                                </ul>
                            </p>

                        </div>
                        <a href="#pack3" class="btn align-center btn-light m-3">En savoir plus</a>
                    </div>
                    <div class="card text-white shadow-lg p-3 mb-5 rounded"style="background-color: #180906">
                        <img src="images/ex3.jpg" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h4 class="card-title">
                                Forfait 4: Architecture commerciale
                            </h4>
                            <p class="card-text">
                                <ul>
                                    <li class="mt-4">
                                        RDV Conseils
                                    </li>
                                    <li class="mt-3">
                                        Étude de votre projet de rénovation commerciale et tertiaire
                                    </li>
                                    <li class="mt-3">
                                        Suivi et coordination des travaux d’aménagement commercial
                                    </li>
                                </ul>
                            </p>
                        </div>
                        <a href="#pack4" class="btn align-center btn-light m-3">En savoir plus</a>
                    </div>
                </div>
            </div>

        </section>
 
@code {
    private Carousel? carousel;
    private Service[] service;

    protected override async Task OnInitializedAsync()
    {
        
        carousel = await Http.GetFromJsonAsync<Carousel>("data/home-carousel.json");
        // todo: modifier le DOM avec JSInterop
        service = await Http.GetFromJsonAsync<Service[]>("data/services.json");
    }
  }

  <!--public record Service(string Seo,
    string Title,
    string Subtitle,
    string Description1,
    string Description2,
    IEnumerable<string> Descriptions,
    IEnumerable<string> ShortDescriptions);-->
<SurveyPrompt Title="How is Blazor working for you?" />
